<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<link href='favicon.ico' rel="shortcut icon" type="image/x-icon">
		<link rel="stylesheet" type="text/css" href="index.css">
		<link href="https://fonts.googleapis.com/css2?family=Balsamiq+Sans&family=Cormorant:wght@500;600;700&family=Fira+Sans&family=Press+Start+2P&family=Raleway:wght@300&family=Roboto:wght@300;400&family=Ubuntu&family=Yanone+Kaffeesatz&display=swap" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Balsamiq+Sans&family=Cormorant:wght@500;600;700&family=Fira+Sans&family=Montserrat+Alternates&family=Press+Start+2P&family=Raleway:wght@300&family=Roboto:wght@300;400&family=Rubik&family=Source+Sans+Pro&family=Ubuntu&family=Yanone+Kaffeesatz&display=swap" rel="stylesheet">
		<title>Системы виртуальной реальности</title>
	</head>
	<body>
	<script src="script.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
 	<script type="text/javascript" src="script2.js"></script>
		<header>
			<div class="in-header">
				<div class="course_name">
					<img src="favicon.ico" width="30px">
					Системы виртуальной реальности
				</div>
			</div>
		</header>
		<div style="height:30px; width:100%"></div>
		<div class="layout">
			<div class="menu">
				<div style="height:30px; width:100%"></div>
				<div class="menu-buttons">
					<form action="index.html">
						<button class="menu-button">
							<i class="arrow_right"></i>
							Главная
						</button>
					</form>
					<form action="chapter1.html">
						<button class="menu-button">
							<i class="arrow_right"></i>
							Раздел 1
						</button>
					</form>
					<form action="chapter2.html">
						<button class="menu-button">
							<i class="arrow_right"></i>
							Раздел 2
						</button>
					</form>
					<form action="chapter3.html">
						<button class="active">
							<i class="arrow_down"></i>
							Раздел 3
							<div class="submenu">
								<br><a class="anchor" href="#mozila">Средства для разработки</a>
								<br><a class="anchor" href="#algoritm">Алгоритм создания веб-приложения</a>
								<br><a class="anchor" href="#practice">Практическая работа</a>
							</div>
						</button>
					</form>
					<form action="chapter4.html">
						<button class="menu-button">
							<i class="arrow_right"></i>
							Раздел 4
						</button>
					</form>
					<form action="chapter5.html">
						<button class="menu-button">
							<i class="arrow_right"></i>
							Раздел 5
						</button>
					</form>
				</div>
				<div style="height:10px; width:100%"></div>
				<iframe
					allow="microphone;"
					width="100%"
					height="430"
					src="https://console.dialogflow.com/api-client/demo/embedded/301aff36-214e-4460-a00b-d7596944a187">
				</iframe>
			</div>
			<div id="toTop">Наверх</div>
			<div class="text1">
				<div class="in-text">
					
					<a name="mozila"></a>
					<h2>СРЕДСТВА ДЛЯ РАЗРАБОТКИ, ИНСТРУМЕНТАРИЙ ОТ MOZILA</h2>
					<div id="id2">
						<p style="text-align: center;"><img src="3.2.png" alt="" width="40%"></p>
						<p class="text">
						<b>A-Frame</b> — это веб-фреймворк позволяющий создавать различные приложения, игры, сцены в виртуальной реальности (ВР). Все вышеописанное будет доступно прямо из браузера вашего шлема ВР. Этот инструмент будет полезен как тем кто хочет заниматься разработкой ВР игр в браузере, так и например, может пригодится в качестве платформы для создания веб ВР приложений, сайтов, посадочных страниц. Сферы использования веб ВР ограничены лишь вашим воображением. Навскидку могу привести пару сфер деятельности человека где ВР может быть полезен: образование, медицина, спорт, продажи, отдых.
						</p>
						<h3>Что там внутри?</h3>
						<p class="text">
						A-Frame не написан с 0 на чистом WebGL, в его основе лежит библиотека Three.js. Поэтому рекомендую для начала разобраться с базовыми концепциями Three.js прежде чем начинать работать с A-Frame, хотя это и не обязательно, так как A-Frame устроен таким образом, чтобы вы меньше всего думали о рендеринге геометрии и больше концентрировались на логике вашего приложения. На то он, вообщем-то, и фреймворк.
						</p>
						<p class="text">
						Для этого A-Frame постулирует три основных положения, о которых мы и поговорим далее.
						</p>
						<h3>A-Frame работает с HTML</h3>
						<p class="text">
						Многие базовые элементы A-Frame, такие как scene, camera, box, sphere и др., добавляются на сцену через одноименные теги с префиксом <b>a-</b>. Каждый подобный элемент зарегистрирован как пользовательский. На сегодняшний день A-Frame (0.8.0) использует спецификацию v0.
						</p>
						<div class="code">
							<p>
								<a-scene>
								<a-box position="-1 0.5 -3" rotation="0 45 0" color="#4CC3D9"></a-box>
								<a-sphere position="0 1.25 -5" radius="1.25" color="#EF2D5E"></a-sphere>
								</a-scene>
							</p>
						</div>
						<p class="text">
						Данный небольшой фрагмент кода отрисует WebGL сцену к которой будут добавлены два объекта: куб и сфера с заданными параметрами. Помимо упомянутых выше двух элементов существует 
						еще ряд других примитивов, которые могут быть добавлены на сцену таким же образом: <i>&lt;a-circle&gt;, &lt;a-cone&gt;, &lt;a-cylinder&gt;, &lt;a-dodecahedron&gt;, 
						&lt;a-icosahedron&gt;, &lt;a-octahedron&gt;, &lt;a-plane&gt;, &lt;a-ring&gt;, &lt;a-tetrahedron&gt;, &lt;a-torus-knot&gt;, &lt;a-torus&gt;, &lt;a-triangle&gt;</i>. 
						Также в A-Frame существует ряд других элементов, которые выполняют определенные функции:
						<br/>&nbsp;&nbsp;- <b>&lt;a-camera&gt;</b> — создает камеру. На данный момент поддерживается только перспективная камера (PerspectiveCamera)
						<br/>&nbsp;&nbsp;- <b>&lt;a-obj-model&gt;, &lt;a-collada-model&gt;, &lt;a-gltf-model&gt;</b> — все они грузят и отображают модели соответствующего формата.
						<br/>&nbsp;&nbsp;- <b>&lt;a-cursor&gt;</b> — элемент позволяющий выполнять различные действия: клик, наведение и др. Курсор привязан к центру камеры, таким образом он всегда будет по центру того что видит пользователь.
						<br/>&nbsp;&nbsp;- <b>&lt;a-image&gt;</b> — отображает выбранное изображение на плоскости (&lt;a-plane&gt;).
						<br/>&nbsp;&nbsp;- <b>&lt;a-link&gt;</b> — то же самое что тег, только для 3D сцены.
						<br/>&nbsp;&nbsp;- <b>&lt;a-sky&gt;</b> — огромный цилиндр вокруг сцены, который позволяет отображать 360 фотографии. Или его просто можно залить каким-нибудь цветом.
						<br/>&nbsp;&nbsp;- <b>&lt;a-sound&gt;</b> — создает источник звука в заданной позиции.
						<br/>&nbsp;&nbsp;- <b>&lt;a-text&gt;</b> — рисует плоский текст.
						<br/>&nbsp;&nbsp;- <b>&lt;a-video&gt;</b> — проигрывает видео на плоскости.
						<br/>Также хотелось бы отметить, что мы работаем с элементами DOM, а поэтому можем использовать стандартное DOM API, включая querySelector, getElementById, appendChild и тд.
						</p>
						<h3>A-Frame использует ECS</h3>
						<p style="text-align: center;"><img src="3.10.png" alt="" width="40%"></p>
						<p class="text"></p>
						<b>ECS (Entity Component System)</b> — паттерн проектирования приложений и игр. Широкую распространенность получил как раз-таки во втором сегменте. Как видно из названия, три основные понятия паттерна это Entity (Сущность), Component (Компонент), System (Система). В классическом виде они взаимосвязаны друг с другом следующим образом: у нас есть некоторый объект-контейнер (Сущность), к которому можно добавлять компоненты. Обычно компонент отвечает за отдельную часть логики. Например, у нас есть объект Player (Игрок), у него есть компонент Health (Здоровье). Этот компонент будет содержать всю логику связанную с восполнением или потерей здоровья игрока (объекта). А системы, в свою очередь, нужны для того, чтобы управлять набором сущностей объединенных некоторыми компонентами. Обычно некий компонент может зарегистрировать сущность внутри одноименной системы.
						</p>
						<p class="text">
						В A-Frame этот паттерн реализован очень просто и элегантно — с помощью атрибутов. В качестве сущностей используются любые элементы 
						A-Frame — <i>&lt;a-scene&gt;, &lt;a-box&gt;, &lt;a-sphere&gt;</i>, и др. Но особняком конечно же стоит элемент <i>&lt;a-entity&gt;</i>. Его имя говорит само за себя. 
						Все остальные элементы являются по сути обертками для компонентов и сделаны для удобства, так как любой элемент можно 
						создать и при помощи <i>&lt;a-entity&gt;</i>. Например <i>&lt;a-box&gt;</i>:
						</p>
						<div class="code">
							<p>
								&lt;a-entity geometry="primitive: box; width: 1; height: 1; depth: 1"&gt;&lt;/a-entity&gt;
							</p>
						</div>
						<p class="text">
						<b>geometry</b> — в данном случае является компонентом, который был добавлен к сущности <i>&lt;a-entity&gt;</i>. Сам по себе <i>&lt;a-entity&gt;</i> 
						не имеет какой-либо логики (в глобальном смысле), а компонент <i>geometry</i> — по сути превращает его в куб или что-либо другое. 
						Другим не менее важным чем geometry компонентом является <b>material</b>. Он добавляет к геометрии материал. Материал отвечает за то, 
						будет ли наш куб блестеть как металл, будет ли иметь какие-либо текстуры и т.д. В чистом Three.js нам бы пришлось создавать отдельно геометрию, 
						отдельно материал, а потом это все нужно было бы скомбинировать в мэше. В общем такой подход существенно экономит время.
						</p>
						<p class="text">
						Любой компонент в A-Frame должен быть зарегистрирован глобально через специальную конструкцию:
						</p>
						<div class="code">
							<p>
								AFRAME.registerComponent('hello-world', {
								init: function () {
									console.log('Hello, World!');
								}
								});
							</p>
						</div>
						<p class="text">
						Затем этот компонент можно будет добавить на сцену, или любой другой элемент.
						</p>
						<div class="code">
							<p>
								&lt;a-entity hello-world&gt;&lt;/a-entity&gt;
							</p>
						</div>
						<p class="text">
						Так как мы добавили <b>init</b> коллбэк для нашего компонента, то как только элемент будет добавлен в DOM, данный коллбэк отработает и мы увидим наше сообщение в консоли. В компонентах A-Frame есть и другие коллбэки жизненного цикла. Давайте остановимся на них подробнее:
						<br/>&nbsp;&nbsp;- <b>update</b> — вызывается как при инициализации как init, так и при обновлении любого свойства данного компонента.
						<br/>&nbsp;&nbsp;- <b>remove</b> — вызывается после удаления компонента или сущности его содержащей. То есть, если вы удалите &lt;a-entity&gt; из DOM, все его компоненты вызовут remove коллбэк.
						<br/>&nbsp;&nbsp;- <b>tick</b> — вызывается каждый раз перед рендерингом сцены. Внутри цикл рендеринга использует requestAnimaitonFrame
						<br/>&nbsp;&nbsp;- <b>tock</b> — вызывается каждый раз после рендеринга сцены.
						<br/>&nbsp;&nbsp;- <b>play</b> — вызывается каждый при возобновлении рендеринга сцены. По сути после scene.play();
						<br/>&nbsp;&nbsp;- <b>pause</b> — вызывается каждый раз при остановке рендеринга сцены. По сути после scene.pause();
						<br/>&nbsp;&nbsp;- <b>updateSchema</b> — вызывается каждый раз после обновления схемы.
						<br/>Еще одним важным концептом компонента в A-Frame является схема. Схема описывает свойства компонента. Она определяется следующим образом:
						</p>
						<div class="code">
							<p>
								AFRAME.registerComponent('my-component', {<br/>
								schema: {<br/>
									&nbsp;&nbsp;&nbsp;&nbsp;arrayProperty: {type: 'array', default: []},<br/>
									&nbsp;&nbsp;&nbsp;&nbsp;integerProperty: {type: 'int', default: 5}<br/>
								}<br/>
								}
							</p>
						</div>
						<p class="text">
						В данном случае наш компонент <b>my-component</b> будет содержать два свойства <i>arrayProperty</i> и <i>integerProperty</i>. Чтобы передать их в компонент нужно задать значение соответствующего атрибута.
						</p>
						<div class="code">
							<p>
								&lt;a-entity my-component="arrayProperty: 1,2,3; integerProperty: 7"&gt;&lt;/a-entity&gt;
							</p>
						</div>
						<p class="text">
						Получить эти свойства внутри компонента можно через свойство <b>data</b>.
						</p>
						<div class="code">
							<p>
								AFRAME.registerComponent('my-component', {<br/>
								schema: {<br/>
									&nbsp;&nbsp;&nbsp;&nbsp;arrayProperty: {type: 'array', default: []},<br/>
									&nbsp;&nbsp;&nbsp;&nbsp;integerProperty: {type: 'int', default: 5}<br/>
								},<br/>
								init: function () {<br/>
									&nbsp;&nbsp;&nbsp;&nbsp;console.log(this.data);<br/>
								}<br/>
								}
							</p>
						</div>
						<p class="text">
						Чтобы получить свойства компонента из сущности к которой он добавлен можно воспользоваться немного видоизмененной функцией <i>getAttribute</i>. При обращении к сущности A-Frame она вернет не просто строковое значение атрибута, а объект data, упомянутый выше.
						</p>
						<div class="code">
							<p>
								console.log(this.el.getAttribute('my-component')); <br/>
								// {arrayProperty: [1,2,3], integerProperty: 7}
							</p>
						</div>
						<p class="text">
						Примерно таким же образом можно изменить свойства компонента:
						</p>
						<div class="code">
							<p>
								this.el.setAttribute('my-component',{arrayProperty: [], integerProperty: 5}) 
							</p>
						</div>
						<p class="text">
						Теперь поговорим о системах. Системы в A-Frame регистрируется похожим образом как и компоненты:
						</p>
						<div class="code">
							<p>
								AFRAME.registerSystem('my-system', {<br/>
								schema: {},<br/>
								init: function () {<br/>
									&nbsp;&nbsp;&nbsp;&nbsp;console.log('Hello, System!');<br/>
								},<br/>
								});
							</p>
						</div>
						<p class="text">
						Так же как и компонент система имеет схему и коллбэки. Только у системы их всего 5: <b>init, play, pause, tick, tock</b>. Систему не нужно добавлять как компонент к сущности. Она автоматически будет добавлена к сцене.
						</p>
						<div class="code">
							<p>
								this.el.sceneEl.systems['my-system']; 
							</p>
						</div>
						<p class="text">
						Если компонент будет иметь такое же имя как и система, то система будет доступна по ссылке <b>this.system</b>.
						</p>
						<div class="code">
							<p>
								AFRAME.registerSystem('enemy', {<br/>
								schema: {},<br/>
								init: function () {},<br/>
								});<br/>
								<br/>
								AFRAME.registerComponent('enemy', {<br/>
								schema: {},<br/>
								init: function () {<br/>
									&nbsp;&nbsp;&nbsp;&nbsp;const enemySystem = this.system;<br/>
								},<br/>
								});
							</p>
						</div>
						<p class="text">
						Обычно системы нужны для того чтобы собирать и управлять сущностями с соответствующими компонентами. Тут, по идее, должна находится логика, которая относится к коллекции сущностей. Например, управление появлением врагов в игре.
						</p>
						<h3>Коммуникация в A-Frame происходит по средствам событий браузера</h3>
						<p class="text">
						И действительно, зачем изобретать колесо, если на данный момент существует прекрасная встроенная реализация издатель-подписчик для элементов DOM. 
						События DOM позволяют слушать как события браузера, такие как нажатие на клавишу клавиатуры, клик мышкой и другие, так и пользовательские события. 
						A-Frame предлагает нам удобный и простой способ коммуникации между сущностями, компонентами и системами, через пользовательские события. Для этого каждый 
						элемент А-Frame пропатчен функцией <b>emit</b>, она принимает три параметра: 
						<i>первый</i> — название события, <i>второй</i> — данные которое нужно передать, <i>третий</i> — должно ли событие всплывать.
						</p>
						<div class="code">
							<p>
								this.el.emit('start-game', {level: 1}, false);
							</p>
						</div>
						<p class="text">
						Подписаться на данное событие можно привычным всем нам способом, используя <b>addEventListener</b>:
						</p>
						<div class="code">
							<p>
								const someEntity = document.getElementById(‘someEntity’);
								someEntity.addEventListener(‘start-game’, () => {...});
							</p>
						</div>
						<p class="text">
						Всплывание событий (bubbling) тут является очень важным моментом, ведь иногда две сущности которые должны коммуницировать с друг другом находятся на одном уровне, 
						в таком случае можно добавить слушатель события на элемент сцены. Он как вы могли видеть ранее, доступен внутри каждого элемента через ссылку <b>sceneEl</b>.
						</p>
						<div class="code">
							<p>
								this.el.sceneEl.addEventListener(‘start-game’, () => {...});
							</p>
						</div>
					</div>

					<br>
					<a name="algoritm"></a>
					<h2>АЛГОРИТМ СОЗДАНИЯ ВЕБ-ПРИЛОЖЕНИЯ СО ВСТРОЕННЫМ ВР НА ПРИМЕРЕ</h2>
					<div id="id3">
						<p class="text">
						Для того, чтобы сверстать даже самый простейший сайт, необходимо изучить базовые понятия html-кода. Рекомендуемый курс: <a href="https://htmlacademy.ru/">HTML Academy</a>.
						</p>
						<p style="text-align: center;"><img src="3.0.jpeg" alt="" width="50%"></p>
						<p class="text">
							Для того, чтобы создать базовую сцену в A-Frame и понять как работает фреймворк, нам потребуется начальное понимание HTML. В ходе этого урока мы выучим:
							<br/>- как добавлять 3D объекты с помощью примитивов;
							<br/>- как трансформировать объекты в 3-х мерном пространстве с помощью, перемещений, поворотов и масштабирования;
							<br/>- как добавить окружение;
							<br/>- как добавить текстуры;
							<br/>- как добавить базовую интерактивность с помощью событий и анимации;
							<br/>- как добавить текст.
						</p>
						<h3>Начнем с HTML</h3>
						<div class="code">
							<p>
								&lt;html&gt;<br/>
								&nbsp;&nbsp;&nbsp;&nbsp;&lt;head&gt;<br/>
								&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;script src="https://aframe.io/releases/0.8.0/aframe.min.js"&gt;&lt;/script&gt;<br/>
								&nbsp;&nbsp;&nbsp;&nbsp;&lt;/head&gt;<br/>
								&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;<br/>
								&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a-scene&gt;<br/>
								&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/a-scene&gt;<br/>
								&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;<br/>
								&lt;/html&gt;
							</p>
						</div>
						<p class="text">
						Мы подключаем A-Frame через &lt;script&gt; тег, добавленный в раздел &lt;head&gt;. Код библиотеки находится на CDN. Подключение A-Frame должно быть добавлено до <b>&lt;a-scene&gt;</b> 
						так как A-Frame регистрирует пользовательские HTML элементы, которые должны быть определены до того как &lt;a-scene&gt; будет добавлен в DOM, иначе сцена останется пустой.
						</p>
						<p class="text">
						Далее, мы добавляем тег &lt;a-scene&gt; в тело документа &lt;body&gt;. &lt;a-scene&gt; это элемент с помощью которого происходит управление сценой. Добавляя элементы в &lt;a-scene&gt; 
						мы добавляем их на фактическую 3D сцену. &lt;a-scene&gt; отвечает за все что необходимо: устанавливает WebGL, &lt;canvas&gt;, камеру, свет, renderer (отрисовщик), а 
						так же и все что связано с поддержкой WebVR на таких платформах как HTC Vive, Oculus Rift, Samsung GearVR, Oculus Go и Google Cardboards.
						</p>
						<h3>Добавляем объекты</h3>
						<p class="text">
						Используя &lt;a-scene&gt;, мы добавляем 3D объекты c помощью стандартных примитивов A-Frame, например &lt;a-box&gt;. Мы можем использовать &lt;a-box&gt; просто как обычный 
						HTML элемент, добавляя к нему атрибуты для кастомизации. Вот еще несколько стандартных примитивов доступных в A-Frame: &lt;a-cylinder&gt;, &lt;a-plane&gt;, &lt;a-sphere&gt;.
						</p>
						<p class="text">
						В следующем примере кода мы добавим цветной &lt;a-box&gt;. Больше атрибутов для &lt;a-box&gt; можно найти <a href="https://aframe.io/docs/0.8.0/primitives/a-box.html">тут</a>.
						</p>
						<p style="text-align: center;"><img src="3.3.jpeg" alt="" width="50%"></p>
						<p class="text">
						Необходимо заметить, что примитивы в A-Frame являются всего лишь обертками для некоторых компонентов. Это удобно, но нужно понимать что под 
						&lt;a-box&gt; кроется &lt;a-entity&gt; с geometry и material компонентами:
						</p>
						<div class="code">
							<p>
								&lt;a-entity id="box" geometry="primitive: box" material="color: red"&gt;&lt;/a-entity&gt;
							</p>
						</div>
						<p class="text">
						В любом случае, так как камера и куб, добавленные на сцену, находятся в одной и той же точке <i>0,0,0</i>, мы не сможем увидеть куб до тех пор, пока 
						не поменяем его позицию. Сделать это достаточно просто: нужно всего лишь поменять атрибут position, чтобы переместить наш куб в пространстве.
						</p>
						<h3>Трансформации объекта в 3D</h3>
						<p class="text">
						Давайте сначала поговорим о 3D пространстве. A-Frame использует правую (right-handed) систему координат. Направление камеры по умолчанию: 
						положительная X-ось уходит вправо, положительная Y-ось уходит вверх и положительная Z-ось уходит назад от экрана в направлении нас:
						</p>
						<p style="text-align: center;"><img src="3.4.jpeg" alt="" width="50%"></p>
						<p class="text">
						A-Frame измеряет дистанцию в метрах (а не в пикселях как в React360) так как WebVR API возвращает данные позиции и позы в метрах. Когда вы проектируете ВР сцену очень важно рассматривать именно реальные размеры объектов. Куб с высотой в 10 метров может выглядеть нормально на экранах наших компьютеров, но он будет слишком массивным при погружении в виртуальную реальность.
						</p>
						<p class="text">
						Единицы вращения в A-Frame — это градусы (не радианы как в Three.js), поэтому они автоматически будут пересчитаны в радианы при попадании в Three.js. Для определения положительного направления вращения используется правило правой руки. Направьте палец правой руки вдоль положительного направления любой оси, тогда направление в котором наши пальцы согнуты и будут положительным направлением вращения.
						</p>
						<p class="text">
						Чтобы переместить, вращать или масштабировать наш куб, мы может изменить соответственно 
						<a href="https://aframe.io/docs/0.8.0/components/position.html">position</a>, 
						<a href="https://aframe.io/docs/0.8.0/components/rotation.html">rotation</a> и 
						<a href="https://aframe.io/docs/0.8.0/components/scale.html">scale</a> компоненты (представленные атрибутами тега &lt;a-box&gt;). 
						Давайте попробуем для начала применить вращение и масштабирование:
						</p>
						<div class="code">
							<p>
								&lt;a-scene&gt;<br/>
								&nbsp;&nbsp;&nbsp;&nbsp;&lt;a-box color="red" rotation="0 45 45" scale="2 2 2"&gt;&lt;/a-box&gt;<br/>
								&lt;/a-scene&gt;
							</p>
						</div>
						<p class="text">
						Это должно повернуть наш куб на заданные углы и растянуть его по всем осям в два раза.
						</p>
						<h3>Трансформации предков и потомков</h3>
						<p class="text">
						<a href="https://ru.wikipedia.org/wiki/%D0%93%D1%80%D0%B0%D1%84_%D1%81%D1%86%D0%B5%D0%BD%D1%8B">Граф сцены</a> в A-Frame реализован с помощью HTML. Каждый элемент такой структуры может иметь несколько потомков и лишь одного предка. 
						Любой потомок в такой структуре наследует свойства трансформации (position, rotation, scale) своего предка.
						</p>
						<p class="text">
						Например, мы можем добавить сферу как потомка куба:
						</p>
						<div class="code">
							<p>
								&lt;a-scene&gt;<br/>
								&nbsp;&nbsp;&nbsp;&nbsp;&lt;a-box position="0 2 0" rotation="0 45 45" scale="2 4 2"&gt;<br/>
								&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a-sphere position="1 0 3"&gt;&lt;/a-sphere&gt;<br/>
								&nbsp;&nbsp;&nbsp;&nbsp;&lt;/a-box&gt;<br/>
								&lt;/a-scene&gt;
							</p>
						</div>
						<p class="text">
						Позиция сферы на сцене будет <i>1 2 3</i>, а не <i>1 0 3</i>, так как по умолчанию сфера находится в координатах своего предка, то есть куба — <i>0 2 0</i>. 
						Эта точка в данном случае будет точкой отсчета для сферы, которая имеет свои координаты <i>1 0 3</i>. То же самое относится к вращению и масштабу. 
						Если любой из атрибутов куба будет изменен, это изменение автоматически затронет всех потомков (в нашем случае сферу).
						</p>
						<p class="text">
						Если бы мы добавили цилиндр как потомка сферы, трансформации цилиндра были бы посчитаны исходя из трансформаций его предков: куба и сферы.
						</p>
						<h3>Размещаем наш куб впереди от камеры</h3>
						<p class="text">
						Теперь давайте сделаем наш куб видимым для нашей камеры. Мы можем передвинуть наш куб на 5 метров по оси Z в отрицательном направлении (то есть от нас). Давайте также поднимем его на два метра вверх по оси Y. Все это можно сделать изменив атрибут position:
						</p>
						<div class="code">
							<p>
								&lt;a-scene&gt;<br/>
								&nbsp;&nbsp;&nbsp;&nbsp;&lt;a-box color="red" position="0 2 -5" rotation="0 45 45" scale="2 2 2"&gt;&lt;/a-box&gt;<br/>
								&lt;/a-scene&gt;
							</p>
						</div>
						<p class="text">
						Теперь мы видим его! Юху!
						<p style="text-align: center;"><img src="3.6.png" alt="" width="50%"></p>
						</p>
						<h3>Управление</h3>
						<p class="text">
						Для плоских дисплеев (ноутбуки, компьютеры) управление камерой по умолчанию осуществляется через перетаскивание мышкой и WASD или стрелки на клавиатуре. В телефонах за это отвечает акселерометр. Несмотря на то что A-Frame является фреймворком для WebVR он поддерживает данные схемы управления для того, чтобы сцену можно было просмотреть и без шлема виртуальной реальности.
						</p>
						<p style="text-align: center;"><img src="3.7.png" alt="" width="50%"></p>
						<p class="text">
						Если вы используете шлем виртуальной реальности, то управление будет осуществляться с помощью контроллеров и шлема. Чтобы попасть в виртуальную реальность из браузера вашего шлема, вам нужно нажать на иконку с изображением шлема виртуальной реальности, которая расположена в правом нижнем углу. Если вы используете шлем с 6-ю степенями свободы, и у вас есть реальное пространство, вы можете физически походить по созданной вами сцене.
						</p>
						<h3>Добавляем окружение</h3>
						<p class="text">
						A-Frame позволяет разработчикам создавать и делиться компонентами, которые затем легко использовать в своих проектах. 
						Компонент окружения созданный Диего Гоберна генерирует различные окружения и все это достигается всего лишь одной строчкой кода! 
						<a href="https://github.com/supermedium/aframe-environment-component">Компонент окружения</a> это великолепный и простой способ создать визуальную платформу для 
						наших ВР приложений. Он позволяет создавать 
						десятки окружений, настраиваемых многочисленным количеством параметров.
						</p>
						<p class="text">
						Для начала нужно подключить скрипт в раздел после A-Frame:
						</p>
						<div class="code">
							<p>
								&lt;head&gt;<br/>
								&lt;script src="https://aframe.io/releases/0.8.0/aframe.min.js"&gt;&lt;/script&gt;<br/>
								&lt;script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"&gt;&lt;/script&gt;<br/>
								&lt;/head&gt;
							</p>
						</div>
						<p class="text">
						После этого, уже в сцене, нужно добавить тег &lt;a-entity&gt; c атрибутом environment и заданными настройками, пусть это будет forest (лес) с 200-ми деревьями:
						</p>
						<div class="code">
							<p>
								&lt;a-scene&gt;<br/>
								&lt;a-box color="red" position="0 2 -5" rotation="0 45 45" scale="2 2 2"&gt;&lt;/a-box&gt;<br/>
								&lt;!-- Окружение, прямо из коробки! --&gt;<br/>
								&lt;a-entity environment="preset: forest; dressingAmount: 200"&gt;&lt;/a-entity&gt;<br/>
								&lt;/a-scene&gt;
							</p>
						</div>
						<p class="text">
						<b>Пометка:</b> имейте ввиду, что при использовании слабого “железа” такая сцена может и притормаживать. Например, это может произойти на мобильных устройствах типа Oculus Go. 
						Так что если вы поддерживаете и мобильные устройства, следите за количеством генерируемых объектов.
						</p>
						<h3>Применяем текстуры</h3>
						<p class="text">
						Мы можем применить текстуру к нашему кубу, используя изображение, видео или canvas с помощью атрибута src, также как мы делаем это с обычным тегом . 
						Также нам необходимо удалить color=«red» так как цвет все равно не будет отображаться при использовании текстуры.
						</p>
						<div class="code">
							<p>
								&lt;a-scene&gt;<br/>
								&lt;a-box src="https://i.imgur.com/mYmmbrp.jpg" position="0 2 -5" rotation="0 45 45"<br/>
								scale="2 2 2"&gt;&lt;/a-box&gt;<br/>
								&lt;a-sky color="#222"&gt;&lt;/a-sky&gt;<br/>
								&lt;/a-scene&gt;
							</p>
						</div>
						<p class="text">
						Теперь мы должны увидеть наш куб уже с текстурой, подгруженной он-лайн.
						</p>
						<p style="text-align: center;"><img src="3.8.png" alt="" width="60%"></p>
						<h3>Используем систему загрузки файлов</h3>
						<p class="text">
						Чтобы улучшить производительность вашего приложения на A-Frame рекомендуем вам использовать 
						<a href="https://aframe.io/docs/0.8.0/core/asset-management-system.html">систему управления загрузкой файлов</a>. 
						Эта система позволяет браузеру кэшировать разные файлы (изображения, видео, 3d модели). A-Frame отвечает за то, чтобы все эти файлы были загружены до рендеринга.
						</p>
						<p class="text">
						Если мы напишем тэг внутри &lt;a-assets&gt;, A-Frame не будет отображать его как в привычном HTML, он обработает источник и отправит его в Three.js. 
						Важно отметить, что загрузив изображение один раз мы можем использовать его где угодно, например в качестве текстуры. Также A-Frame позаботится о 
						кросс-доменности и других возможных проблемах, связанных с передачей файлов по сети.
						</p>
						<p class="text">
						Чтобы использовать систему управления загрузкой файлов для добавления текстуры нужно:
						<br/>&nbsp;&nbsp;- Добавить тег <b>&lt;a-assets&gt;</b> внутрь тега &lt;a-scene&gt; (на первый уровень)
						<br/>&nbsp;&nbsp;- Добавить тег <b>&lt;img&gt;</b>, атрибут src должен содержать ссылку файл изображения (также как и в привычном нам HTML)
						<br/>&nbsp;&nbsp;- Нужно задать атрибут <b>id</b> для тега img. В идеале он должен описывать саму текстуру (например, id=”boxTexture”)
						<br/>&nbsp;&nbsp;- Добавить атрибут <b>src</b> для объекта который должен ее содержать. Например для &lt;a-box src="#boxTexture" &gt;
						</p>
						<div class="code">
							<p>
								&lt;a-scene&gt;<br/>
								&lt;a-assets&gt;<br/>
								&lt;img id="boxTexture" src="https://i.imgur.com/mYmmbrp.jpg"&gt;<br/>
								&lt;/a-assets&gt;<br/>
								&lt;a-box src="#boxTexture" position="0 2 -5" rotation="0 45 45" scale="2 2 2"&gt;&lt;/a-box&gt;<br/>
								&lt;a-sky color="#222"&gt;&lt;/a-sky&gt;<br/>
								&lt;/a-scene&gt;
							</p>
						</div>
						<h3>Создаем произвольное окружение</h3>
						<p class="text">
						Мы уже говорил о компоненте окружения выше. Оно генерируется автоматически. А что если нам нужно сделать свое собственное окружение: добавить облака, землю, другие объекты? Предлагаю поговорить об этом далее.
						</p>
						<h3>Добавляем фоновое изображение для сцены</h3>
						<p class="text">
						Для того чтобы добавить фоновое изображение для сцены в A-Frame есть специальный элемент 
						<a href="https://aframe.io/docs/0.8.0/primitives/a-sky.html">&lt;a-sky&gt;</a>. 
						&lt;a-sky&gt; позволяет добавлять как чистый цвет, так и 360 изображения или видео. Например, чтобы добавить темно-серый фон нужно написать следующий код:
						</p>
						<div class="code">
							<p>
								&lt;a-scene&gt;<br/>
								&lt;a-box color="red" position="0 2 -5" rotation="0 45 45" scale="2 2 2"&gt;&lt;/a-box&gt;<br/>
								&lt;a-sky color="#222"&gt;&lt;/a-sky&gt;<br/>
								&lt;/a-scene&gt;
							</p>
						</div>
						<p class="text">
						Или мы можем использовать 360 фотографию:
						</p>
						<div class="code">
							<p>
								&lt;a-scene&gt;<br/>
								&lt;a-assets&gt;<br/>
								&lt;img id="boxTexture" src="https://i.imgur.com/mYmmbrp.jpg"&gt;<br/>
								&lt;img id="skyTexture"<br/>
								&nbsp;&nbsp;&nbsp;&nbsp;src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/sechelt.jpg"&gt;<br/>
								&lt;/a-assets&gt;<br/>
								&lt;a-box src="#boxTexture" position="0 2 -5" rotation="0 45 45" scale="2 2 2"&gt;&lt;/a-box&gt;<br/>
								&lt;a-sky src="#skyTexture"&gt;&lt;/a-sky&gt;<br/>
								&lt;/a-scene&gt;
							</p>
						</div>
						<h3>Добавляем землю</h3>
						<p class="text">
						Чтобы добавить землю мы будем использовать элемент &lt;a-plane&gt;. По умолчанию плоскости в A-Frame ориентированы параллельно оси XY. 
						Чтобы сделать плоскость паралелльной земле, нам нужно повернуть ее так чтобы она была параллельна оси XZ. Это можно сделать повернув плоскость на -90° по оси X.
						</p>
						<div class="code">
							<p>
								&lt;a-plane src="#groundTexture" rotation="-90 0 0" width="30" height="30" repeat="10 10"&gt;&lt;/a-plane&gt;
							</p>
						</div>
						<h3>Работаем над светом</h3>
						<p class="text">
						Чтобы изменить освещение нашей сцены мы можем добавить или перенастроить элемент 
						<a href="https://aframe.io/docs/0.8.0/primitives/a-light.html">&lt;a-light&gt;</a>. По умолчанию, у нас не было никаких источников света, но A-Frame сам добавляет рассеянный свет (ambient light) и направленный свет (directional light). Если бы A-Frame не добавил эти источники света, то сцена была бы полностью черной. Если мы добавим свои собственные источники света, то те источники, которые добавляет A-Frame по умолчанию, будут удалены.
						</p>
						<p class="text">
						Мы добавим один источник рассеянного света, который будет иметь синевато-зеленый оттенок (чтобы гармонировать с небом). Рассеянный свет должен попадать на все элементы нашей сцены (конечно если они будут иметь материалы, но по умолчанию это так).
						</p>
						<p class="text">
						Мы также добавим источник точечного света (point light). Источник точечного света похож на лампочку. Эффект освещения такого источника будет полностью зависеть от дистанции до объекта.
						</p>
						<div class="code">
							<p>
								&lt;a-scene&gt;<br/>
								&lt;a-assets&gt;<br/>
								&lt;img id="boxTexture" src="https://i.imgur.com/mYmmbrp.jpg"&gt;<br/>
								&lt;img id="skyTexture"<br/>
								&nbsp;&nbsp;&nbsp;&nbsp;src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/sechelt.jpg"&gt;<br/>
								&lt;img id="groundTexture" src="https://cdn.aframe.io/a-painter/images/floor.jpg"&gt;<br/>
								&lt;/a-assets&gt;<br/>
								&lt;a-box src="#boxTexture" position="0 2 -5" rotation="0 45 45" scale="2 2 2"&gt;&lt;/a-box&gt;<br/>
								&lt;a-sky src="#skyTexture"&gt;&lt;/a-sky&gt;<br/>
								&lt;a-light type="ambient" color="#445451"&gt;&lt;/a-light&gt;<br/>
								&lt;a-light type="point" intensity="2" position="2 4 4"&gt;&lt;/a-light&gt;<br/>
								&lt;/a-scene&gt;
							</p>
						</div>
						<h3>Добавляем анимацию</h3>
						<p class="text">
						У нас есть возможность добавить анимацию используя встроенную систему 
						<a href="https://aframe.io/docs/0.8.0/core/animations.html">анимации</a> A-Frame. Анимация изменяет некоторое значение (свойство компонента) с течением времени. 
						Нам нужно, всего лишь, добавить элемент &lt;a-animation&gt; как потомок некоторого объекта, например &lt;a-box&gt;. 
						Давайте попробуем анимировать куб таким образом, чтобы он двигался вверх-вниз.
						</p>
						<div class="code">
							<p>
								&lt;a-scene&gt;<br/>
								&lt;a-assets&gt;<br/>
								&lt;img id="boxTexture" src="https://i.imgur.com/mYmmbrp.jpg"&gt;<br/>
								&lt;/a-assets&gt;<br/>
								&lt;a-box src="#boxTexture" position="0 2 -5" rotation="0 45 45" scale="2 2 2"&gt;<br/>
								&lt;a-animation attribute="position" to="0 2.2 -5" direction="alternate" dur="2000"<br/>
								&nbsp;&nbsp;&nbsp;&nbsp;repeat="indefinite"&gt;&lt;/a-animation&gt;<br/>
								&lt;/a-box&gt;<br/>
								&lt;/a-scene&gt;
							</p>
						</div>
						<p class="text">
						Мы говорим &lt;a-animation&gt;:
						<br/>&nbsp;&nbsp;- Что нужно анимировать атрибут position.
						<br/>&nbsp;&nbsp;- Анимировать до <i>0 2.2 -5</i> что на 20 сантиметров выше первоночальной позиции.
						<br/>&nbsp;&nbsp;- Изменять направление анимации на каждом цикле.
						<br/>&nbsp;&nbsp;- Цикл анимации будет занимать 2 секунды (2000 миллисекунд).
						<br/>&nbsp;&nbsp;- Повторять анимацию бесконечно.
						</p>
						<p style="text-align: center;"><img src="3.9.gif" alt="" width="50%"></p>
						<h3>Дополнительные детали</h3>
						<p class="text">
						&lt;a-animation&gt; использует цикл рендеринга A-Frame, поэтому каждое изменение свойств объекта происходит один раз за кадр. Если вам нужно больше контроля и 
						вы хотите изменять значения вручную, вы можете написать компонент A-Frame с колбэком tick и библиотекой такой как Tween.js (которая кстати доступна по ссылке AFRAME.TWEEN). 
						Для лучшей производительности, покадровые операции должны быть выполнены на уровне A-Frame, не нужно создать вашу собственную функцию <i>requestAnimationFrame</i> когда A-Frame уже имеет ее.
						</p>
						<h3>Добавляем интерактивность</h3>
						<p class="text">
						Давайте добавим возможность взаимодействовать с нашим кубом: когда мы смотрим на него, мы увеличим его размеры, а при клике он прокрутиться вокруг своей оси.
						</p>
						<p class="text">
						Предполагая что большинство разработчиков не имеют ВР шлемов с контроллерами мы сфокусируемся на использовании базового компонента для ввода на компьютерах и мобильных устройствах — 
						<a href="https://aframe.io/docs/0.8.0/components/cursor.html">курсоре</a>. Курсор предоставляет возможность 
						“кликнуть” на объект через наведение для мобильных устройств и кликом мышки для компьютеров. Но нужно понимать что курсор это всего лишь 
						один из способов взаимодействия, все будет немного иначе если у нас будут настоящие ВР контроллеры.
						</p>
						<p class="text">
						Чтобы привязать курсор к камере нам нужно добавить его в качестве потомка к элементу камеры (&lt;a-camera&gt;).
						</p>
						<p class="text">
						Так как мы еще не определили камеру, A-Frame сделал это автоматически. но так как нам нужно добавить курсор в камеру, мы определим &lt;a-camera&gt; 
						вручную и добавим туда &lt;a-cursor&gt;:
						</p>
						<div class="code">
							<p>
								&lt;a-scene&gt;<br/>
								&lt;a-assets&gt;<br/>
								&lt;img id="boxTexture" src="https://i.imgur.com/mYmmbrp.jpg"&gt;<br/>
								&lt;/a-assets&gt;<br/>
								&lt;a-box src="#boxTexture" position="0 2 -5" rotation="0 45 45" scale="2 2 2"&gt;<br/>
								&lt;a-animation attribute="position" to="0 2.2 -5" direction="alternate" dur="2000"<br/>
								&nbsp;&nbsp;&nbsp;&nbsp;repeat="indefinite"&gt;&lt;/a-animation&gt;<br/>
								&lt;/a-box&gt;<br/>
								&lt;a-camera&gt;<br/>
								&lt;a-cursor&gt;&lt;/a-cursor&gt;<br/>
								&lt;/a-camera&gt;<br/>
								&lt;/a-scene&gt;
							</p>
						</div>
						<p class="text">
						Если мы посмотрим <a href="https://aframe.io/docs/0.8.0/components/cursor.html">документацию курсора</a>, мы видим что он обрабатывает события наведения такие как mouseenter, mouseleave а еще и событие click.
						</p>
						<h3>Компонент слушателя событий</h3>
						<p class="text">
						Один из способов обработать события курсора это 
						<a href="https://developer.mozilla.org/ru/docs/Web/API/EventTarget/addEventListener">добавить слушатель событий через JavaScript</a> просто как для обычно DOM элемента. Если вы не уверены в своих 
						знаниях по JavaScript, вы можете пропустить этот раздел до следующего.
						</p>
						<p class="text">
						В JavaScript мы получаем элемент через querySelector, а используя <i>addEventListener</i>, и setAttribute чтобы увеличить размеры куба при наведении курсора. 
						Заметка: A-Frame изменяет setAttribute так чтобы он мог работать сразу с несколькими компонентами. Мы можем добавить {x, y, z} как второй аргумент.
						</p>
						<div class="code">
							<p>
								&lt;script&gt;
								<br/>var boxEl = document.querySelector('a-box');
								<br/>boxEl.addEventListener('mouseenter', function () {
								<br/>boxEl.setAttribute('scale', {x: 2, y: 2, z: 2});
								<br/>});
								<br/>&lt;/script&gt;
							</p>
						</div>
						<p class="text">
						Но более быстрым способом будет инкапсулировать логику внутри компонента A-Frame. Этот метод не требует ожидания загрузки сцены, нам не нужно использовать селекторы потому что компонент дает нам контекст:
						</p>
						<div class="code">
							<p>
								&lt;script&gt;
								<br/>AFRAME.registerComponent('scale-on-mouseenter', {
								<br/>schema: {
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;to: {default: '2.5 2.5 2.5'}
								<br/>},
								<br/>
								<br/>init: function () {
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;var data = this.data;
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;this.el.addEventListener('mouseenter', function () {
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;this.setAttribute('scale', data.to);
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;});
								<br/>}
								<br/>});
								<br/>&lt;/script&gt;
							</p>
						</div>
						<p class="text">
						Мы можем добавить этот компонент через HTML атрибут:
						</p>
						<div class="code">
							<p>
								&lt;script&gt;
								<br/>AFRAME.registerComponent('scale-on-mouseenter', {
								<br/>// ...
								<br/>});
								<br/>&lt;/script&gt;
								<br/>
								<br/>&lt;a-scene&gt;
								<br/>&lt;!-- ... --&gt;
								<br/>&lt;a-box src="#boxTexture" position="0 2 -5" rotation="0 45 45" scale="2 2 2"
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scale-on-mouseenter="to: 2.2 2.2 2.2"&gt;
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a-animation attribute="position" to="0 2.2 -5" direction="alternate" dur="2000"
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;repeat="indefinite"&gt;&lt;/a-animation&gt;
								<br/>&lt;/a-box&gt;
								<br/>&lt;!-- ... --&gt;
								<br/>&lt;/a-scene&gt;
							</p>
						</div>
						<h3>Анимация по событию</h3>
						<p class="text">
						&lt;a-animation&gt; имеет возможность начинать и заканчивать свою анимацию когда объект продуцирует событие. Это можно сделать через атрибут begin указав имя события.
						</p>
						<p class="text">
						Мы можем добавить две анимации для компонента курсор — <i>mouseenter</i> и <i>onemouseleave</i> события чтобы изменить размеры нашего куба, и одно для поворотов куба вокруг оси Y по событию click:
						</p>
						<div class="code">
							<p>
								&lt;a-box color="#FFF" width="4" height="10" depth="2"
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;position="-10 2 -5" rotation="0 0 45" scale="2 0.5 3"
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;src="#texture"&gt;
								<br/>&lt;a-animation attribute="position" to="0 2.2 -5" direction="alternate" dur="2000"
								<br/>repeat="indefinite"&gt;&lt;/a-animation&gt;
								<br/>&lt;!-- These animations will start when the box is looked at. --&gt;
								<br/>&lt;a-animation attribute="scale" begin="mouseenter" dur="300" to="2.3 2.3 2.3"&gt;&lt;/a-animation&gt;
								<br/>&lt;a-animation attribute="scale" begin="mouseleave" dur="300" to="2 2 2"&gt;&lt;/a-animation&gt;
								<br/>&lt;a-animation attribute="rotation" begin="click" dur="2000" to="360 405 45"&gt;&lt;/a-animation&gt;
								<br/>&lt;/a-box&gt;
							</p>
						</div>
						<h3>Добавляем аудио</h3>
						<p class="text">
						Аудио очень важно для полного погружения в виртуальную реальность. Даже добавление просто белого шума на задний план может занять время. 
						Мы рекомендуем использовать звук для каждой сцены. Один из способов добавления звука: добавить &lt;audio&gt; элемент в &lt;a-assets&gt; и атрибут autoplay:
						</p>
						<div class="code">
							<p>
								&lt;a-scene&gt;
								<br/>&lt;a-assets&gt;
								<br/>&lt;audio src="https://cdn.aframe.io/basic-guide/audio/backgroundnoise.wav" autoplay
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;preload&gt;&lt;/audio&gt;
								<br/>&lt;/a-assets&gt;
								<br/>
								<br/>&lt;!-- ... --&gt;
								<br/>&lt;/a-scene&gt;
							</p>
						</div>
						<p class="text">
						Или мы можем добавить пространственное аудио с помощью элемента &lt;a-sound&gt;. Этот компонент делает звук громче когда мы подходим ближе к источнику. 
						Мы можем позиционировать &lt;a-sound&gt; с помощью атрибута position:
						</p>
						<div class="code">
							<p>
								&lt;a-scene&gt;
								<br/>&lt;!-- ... --&gt;
								<br/>&lt;a-sound src="https://cdn.aframe.io/basic-guide/audio/backgroundnoise.wav" autoplay="true"
								<br/>position="-3 1 -4"&gt;&lt;/a-sound&gt;
								<br/>&lt;!-- ... --&gt;
								<br/>&lt;/a-scene&gt;
							</p>
						</div>
						<h3>Добавляем текст</h3>
						<p class="text">
						A-Frame имеет компонент текст. Существует несколько способов его отобразить и каждый способ имеет свои преимущества и недостатки. 
						A-Frame имеет SDF имплементацию через three-bmfont-text которая является достаточно производительной.
						</p>
						<p class="text">
						Для этого урока предлагаем использовать самую простую форму текста, &lt;a-text&gt;:
						</p>
						<div class="code">
							<p>
								&lt;a-text value="Hello, A-Frame!" color="#BBB" position="-0.9 0.2 -3" scale="1.5 1.5 1.5"&gt;&lt;/a-text&gt;
							</p>
						</div>
						<p class="text">
						Есть и другие способы добавить текст:
						<br/>&nbsp;&nbsp;- <a href="https://github.com/supermedium/superframe/tree/master/components/text-geometry/">Text Geometry</a> сделанная Кевином Нго. Это 3D текст и он требует больше ресурсов для отрисовки.
						<br/>&nbsp;&nbsp;- <a href="https://github.com/mayognaise/aframe-html-shader/">HTML Shader</a> сделанный Майо Тобита — он рендерит текст как текстуру. Легко стилизуется но долго рассчитывается.
						</p>
					</div>

					<br>
					<a name="practice"></a>
					<h2>ПРАКТИЧЕСКАЯ РАБОТА: РАЗРАБОТКА КАРДБОРДА СВОИМИ РУКАМИ</h2>
					<div id="id4">
						<p class="text">
						Для создания кардборда требуется несколько компонентов:
						<br><b>1. Хороший картон</b>
						<br>Картон должен быть 2-3 мм в толщину. При выборе картона толще или тоньше могут возникнуть проблемы с размером и со сборкой.
						Отлично подходит картон от упаковки (коробка от обуви, пиццы и т.д.). Почти в любом магазине такую коробку можно попросить и ее 
						отдадут бесплатно.
						<p style="text-align: center;"><img src="box.jpg" alt="Коробка" width="40%"></p>
						<br><b>2. Шаблон для вырезания</b>
						<br>Компания Google выложила в свободный доступ схему кардборда, поэтому найти ее не составит труда. Можно скачать шаблон по 
						<a href="Printing-template.pdf" download>ссылке</a>. В данной схеме есть одна проблема - она расчитана для моделей телефона с 
						маленьким экраном, в связи с этим необходимо править схему под размеры вашего телефона.
						<p style="text-align: center;"><img src="crdbrd1.png" alt="Коробка" width="50%"></p>
						В практической работе мы будем делать кардборд без магнитика, поэтому детали, которые не нужны, зачеркнуты на схеме 
						оранжевым. Кроме того, цветом выделены ребра, которые по размеру изменены:
						<br>Зеленый - 7,6 см
						<br>Красный - 16,3 см
						<br>Синий - 11,1 см
						<br>Розовый - 7,4 см
						<br>Коричневый - 5,7 см
						<br>Отверстия для линз, отверстия и выпуклости для сборки не двигать, оставить неизменными (можно двигать, если уверены в своих инженерских 
						способностях).
						<br><b>Обратите внимание:</b> размеры изменены с учетом размера телефона, а также с учетом фокусного расстояния линз. Если купить другие линзы, 
						размеры придется менять вручную.
						<br><b>3. Две линзы</b>
						<br>Самый сложный пункт. Параметры линз такие: асферические, диаметр 25 мм, фокусное расстояние 45 мм. Сложность момента состоит 
						именно в том, где такие линзы взять.
						<br>1. aliexpress.com — «google cardboard lens» - лучший вариант по цене, но длительный по времени.
						<br>2. Поиск того же в русском сегменте интернета. По скорости будет быстрее, но цена будет выше.
						<br>3. Магазины «Оптика» вашего города. Однако, в Оптике нужно говорить в других терминах. Поскольку они все измеряют в диоптриях, 
						вам нужно будет спрашивать именно линзы с диоптриями. 
						Сейчас мы их посчитаем: есть формула F=1/D, где F — фокусное расстояние в метрах, а D — оптическая сила линзы в диоптриях. 
						Таким образом D = 1/F = 1/0,045 = 22,2222. В общем, нужно спрашивать линзы «+22 диоптрий». Если таковые найдутся, то их можно 
						обточить там же до нужного диаметра, либо, диаметром побольше, но тогда и шаблон надо будет слегка изменить.
						<br>4. Магазины канцтоваров. В нем ищем подходящие по размеру лупы (т.е. увеличительные стекла), чем выше кратность, тем лучше. 
						10-кратные линзы должны подойти. В данном случае были куплены 10-кратные линзы в "Читай-городе".
						<p style="text-align: center;"><img src="lens.jpg" alt="Линзы" width="40%"></p>
						<br>5. Различного рода бинокли, детские игрушки, объективы, подзорные трубы и т.д. Такой способ самый ненадежный.
						<br>Идеологически верным являются первые 3 варианта, ибо они подразумевают точное совпадение с конструкцией, предложенной Google. 
						Остальные варианты дают линзы неточные, поэтому потребуют изменения конструкции самих очков. Нагляднее показать на рисунке:
						<p style="text-align: center;"><img src="фокус.jpg" alt="Фокусное расстояние" width="40%"></p>
						Из этой картинки следует, что чем больше фокусное расстояние, тем дальше нужно отодвигать смартфон от линзы. 
						Таким образом, если вам достались не родные линзы, вносите изменения в конструкцию. Именно это мы и сделали.
						<br><b>4. Магниты (необязательный пункт)</b>
						<br>Магниты используются в качестве кнопки. Мы их использовать не будем.
						<br><b>5. Одежные лепучки</b>
						<br>Продаются в любом магазине текстиля в виде ленты. Необходимы для закрепления телефона в каркасе кардборда.
						<br><b>6. Ножницы, канцелярский нож</b>
						<br><b>7. Двусторонний скотч (толстый)</b>
						</p>
						Процесс сборки:
						<br>1. Распечатать шаблон
						<br>2. Прикеить на картон, вырезать
						<br>3. Приклеить линзы на двусторонний скотч к детали 1 (номер детали указан на рисунке выше) следующим образом:
						<p style="text-align: center;"><img src="lens_crd.jpg" alt="Линзы" width="40%"></p>
						<br>4. Собрать кардборд
						<br>5. Приклеить липучки
						<br>Чтобы облегчить процесс сборки, можно ознакомиться со следующим <a href="https://www.youtube.com/watch?v=8QY3-zSMsc8"><i>видео</i></a>.
						<p style="text-align: center;"><img src="очки1.jpg" alt="Очки" width="40%"></p>
						<p style="text-align: center;"><img src="очки2.jpg" alt="Очки" width="40%"></p>
						<p style="text-align: center;"><img src="очки3.jpg" alt="Очки" width="40%"></p>
						<br>
					</div>
					<br>
				</div>
			</div>
			<br>
			<br>
			<br>
		</div>
	</body>
</html>